/*!
 * DoSlide v1.0.0
 * (c) 2016 MopTym <moptym@163.com>
 * Released under the MIT License.
 * Homepage - https://github.com/MopTym/doSlide
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.DoSlide=t():e.DoSlide=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),a=r(u),c=n(4),l=(n(2),n(3)),f={initIndex:0,initClass:"ds-init",activeClass:"active",transitionInClass:"transition-in",transitionOutClass:"transition-out",silent:!1,horizontal:!1,infinite:!1,listenUserMouseWheel:!0,listenUserSwipe:!0,eventElemSelector:null},h={duration:1e3,timingFunction:"ease",minInterval:50,parent:null,respondToUserEvent:!0,stopPropagation:!1},d=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?document.createElement("div"):arguments[0],n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];i(this,e),this.$=a["default"],this.callbacks={onChanged:[],onBeforeChange:[],onOverRange:[],onUserMouseWheel:[],onUserSwipe:[]},this.userEvent=null,this.isChanging=!1,this.el=t.nodeType?t:document.querySelector(t),this.eventEl=null,this.sections=this.el.children,this.currentIndex=n.initIndex||0,this.currentSection=this.sections[this.currentIndex],this.config=o({},h,f),this.set(n),(0,c.init)(this)}return s(e,[{key:"set",value:function(e,t){var n=this.config;return"string"==typeof e?n[e]=t:o(n,e),this}},{key:"get",value:function(e){return this.config[e]}},{key:"next",value:function(){var e=this.config.infinite?(this.currentIndex+1)%this.el.children.length:this.currentIndex+1;return this.go(e),this}},{key:"prev",value:function(){var e=this.config.infinite?(this.currentIndex||this.el.children.length)-1:this.currentIndex-1;return this.go(e),this}},{key:"go",value:function(e){return(0,l.change)(this,e),this}},{key:"do",value:function(e){return e.call(this,this.currentIndex,this.currentSection),this}},{key:"onChanged",value:function(e){return this.callbacks.onChanged.push(e),this}},{key:"onBeforeChange",value:function(e){return this.callbacks.onBeforeChange.push(e),this}},{key:"onOverRange",value:function(e){return this.callbacks.onOverRange.push(e),this}},{key:"onUserMouseWheel",value:function(e){return this.callbacks.onUserMouseWheel.push(e),this}},{key:"onUserSwipe",value:function(e){return this.callbacks.onUserSwipe.push(e),this}}]),e}();d.from=function(e,t,n){return new d(t,o({},e.config,n))},d.$=a["default"],d.supportedTransition=a["default"].getSupportedCSS("transition"),d.supportedTransform=a["default"].getSupportedCSS("transform"),e.exports=d},function(e,t){"use strict";function n(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){return"object"===("undefined"==typeof e?"undefined":n(e))&&s(e.length)}function o(e,t,r,i){return s(i)||"object"===("undefined"==typeof r?"undefined":n(r))?(d.each(e,function(e){return t(e,r,i)}),e):e.length?t(e[0],r):void 0}function s(e){return"undefined"!=typeof e}function u(e,t,n,r){if(e&&t)for(var i,o=0,s=e.length;s>o;o++)if(i=n?t.call(n,e[o],o,e):t(e[o],o,e),i===!1)return r}function a(e,t){var n=[];for(var r in e)n.push(t?t(r):r);return n}var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};Object.defineProperty(t,"__esModule",{value:!0});var l=800,f=50,h=/Firefox/i.test((navigator||{}).userAgent),d=function g(e){return new g.prototype.Init(e)};d.prototype={constructor:d,length:0,Init:function(e){var t=this;return e?e instanceof d?e:(e.nodeType?(this[0]=e,this.length=1):("string"==typeof e&&(e=document.querySelectorAll(e)||[]),d.each(e,function(e,n){return t[n]=e}),this.length=e.length),this):this}},d.prototype.Init.prototype=d.prototype,c(d.prototype,{each:function(e,t,n,r){return d.each(this,e,t,n,r)},eq:function(e){return isNaN(e)?d():d(this[0>e?this.length+e:e])},on:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?!1:arguments[2];return this.each(function(r){return d.on(r,e,t,n)})},off:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?!1:arguments[2];return this.each(function(r){return d.off(r,e,t,n)})},attr:function(e,t){return o(this,d.attr,e)},css:function(e,t){return o(this,d.css,e,t)},removeAttr:function(e){return this.each(function(t){return d.removeAttr(t,e)})},addClass:function(e){return this.each(function(t){return d.addClass(t,e)})},removeClass:function(e){return this.each(function(t){return d.removeClass(t,e)})},hasClass:function(e){return!this.each(function(t){return!d.hasClass(t,e)},!1,!0,!1)},onMouseWheel:function(e,t){return this.each(function(n){return d.onMouseWheel(n,e,t)})},onSwipe:function(e,t){return this.each(function(n){return d.onSwipe(n,e,t)})}}),c(d,{each:function(e,t,n,r,o){if(i(e))for(var s,u=0,a=e.length;a>u;u++)if(s=n?t.call(e[u],e[u],u,e):t(e[u],u,e),s===!1&&r)return o;return e},on:function(e,t,n){var r=arguments.length<=3||void 0===arguments[3]?!1:arguments[3];e&&e.addEventListener(t,n,r)},off:function(e,t,n){var r=arguments.length<=3||void 0===arguments[3]?!1:arguments[3];e&&e.removeEventListener(t,n,r)},attr:function(e,t,n){if(e)if("string"==typeof t){if(!s(n))return e.getAttribute(t)||"";e.setAttribute(t,n)}else for(var r in t)e.setAttribute(r,t[r])},css:function(e,t,n){if(e&&t)if("string"==typeof t){if(!s(n))return e.style[t];e.style[t]=n}else for(var r in t)e.style[r]=t[r]},removeAttr:function(e,t){e&&e.removeAttribute(t)},addClass:function(e,t){if(e&&t&&!this.hasClass(e,t)){var n=this.attr(e,"class").trim(),r=(n+" "+t).trim();this.attr(e,"class",r)}},removeClass:function(e,t){if(e&&t){var n=new RegExp("\\s*\\b"+t+"\\b\\s*","g"),r=this.attr(e,"class").replace(n," ").trim();this.attr(e,"class",r)}},hasClass:function(e,t){return!(!e||!t)&&new RegExp("\\b"+t+"\\b").test(this.attr(e,"class"))}}),c(d,{getSupportedCSS:function(){var e=["","-webkit-","-moz-","-o-","-ms-"],t=document.createElement("div"),n=t.style;return function(t){var r=arguments.length<=1||void 0===arguments[1]?!0:arguments[1],i=r?e.map(function(e){return e+t}):[t],o=void 0;return u(i,function(e){return o=void 0!==n[e]?e:o,void 0===o}),o}}(),onMouseWheel:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?function(){return!1}:arguments[2];if(e&&t){var i=h?"DOMMouseScroll":"mousewheel";e.addEventListener(i,function(i){i.preventDefault(),n()&&i.stopPropagation();var o=i.detail?-120*i.detail:i.wheelDelta,s=r({},0>o?"down":"up",!0);t.call(e,s)},!1)}},onSwipe:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?function(){return!1}:arguments[2];if(e&&t){var r=void 0,i=void 0,o=void 0,s=void 0,u=void 0;e.addEventListener("touchstart",function(e){n()&&e.stopPropagation();var t=e.changedTouches[0];r=t.clientX,i=t.clientY,s=t.clientX,u=t.clientY,o=Date.now()},!1),e.addEventListener("touchmove",function(e){if(n()&&e.stopPropagation(),e.preventDefault(),(!e.scale||1===e.scale)&&1===e.changedTouches.length){var t=e.changedTouches[0];s=t.clientX,u=t.clientY}},!1),e.addEventListener("touchend",function(a){if(n()&&a.stopPropagation(),Date.now()-o<l){var c=s-r,h=u-i,d=Math.abs(c),g=Math.abs(h),v={};Math.max(d,g)>f&&(d>g?v[c>0?"right":"left"]=!0:v[h>0?"down":"up"]=!0,t.call(e,v))}},!1)}},forEach:u,keys:a}),t["default"]=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t=e.userEvent;if(t){e.userEvent=null;var n=e.callbacks[t.name],r=s(n,t.args,e,!1);return r!==!1}return!0}function o(e,t){var n=e.callbacks[t.name],r=s(n,t.args,e,!1);return r!==!1}function s(e,t,n,r){return h["default"].forEach(e,function(e){return e.apply(n,t)},null,r)}function u(e){a(e),e.config.listenUserMouseWheel&&c(e,e.eventEl),e.config.listenUserSwipe&&l(e,e.eventEl)}function a(e){var t=e.config.eventElemSelector;null===t?e.eventEl=e.el:e.eventEl=t.nodeType?t:document.querySelector(t)}function c(e,t){h["default"].onMouseWheel(t,function(t){e.config.respondToUserEvent&&!e.isChanging&&(e.userEvent={name:"onUserMouseWheel",args:[t]},t.down?e.next():e.prev())},function(){return e.config.stopPropagation})}function l(e,t){h["default"].onSwipe(t,function(t){e.config.respondToUserEvent&&!e.isChanging&&(e.userEvent={name:"onUserSwipe",args:[t]},e.config.horizontal?(t.left&&e.next(),t.right&&e.prev()):(t.up&&e.next(),t.down&&e.prev()))},function(){return e.config.stopPropagation})}Object.defineProperty(t,"__esModule",{value:!0}),t.excuteUserEventCallbacks=t.excuteEventCallbacks=t.startListen=void 0;var f=n(1),h=r(f);t.startListen=u,t.excuteEventCallbacks=o,t.excuteUserEventCallbacks=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=(0,v["default"])(e.el),r=(0,v["default"])(e.sections);e.config.horizontal?(n.css("width",r.length+"00%"),r.css({width:100/r.length+"%","float":"left"})):(n.css("height",r.length+"00%"),r.css("height",100/r.length+"%")),s(e,t,!0)}function s(e,t,n){var r=e.currentSection,i=e.sections[t],o=e.config,s=o.minInterval+(m?o.duration:0);return e.isChanging=!0,e.config.silent||(a(e,t),u(o,r,i,!0),d(e,t,n)),setTimeout(function(){o.silent||u(o,r,i,!1),e.isChanging=!1},n?0:s),s}function u(e,t,n,r){r?(v["default"].addClass(t,e.transitionOutClass),v["default"].addClass(n,e.transitionInClass)):(v["default"].removeClass(t,e.transitionOutClass),v["default"].removeClass(n,e.transitionInClass))}function a(e,t){(0,v["default"])(e.sections).each(function(n,r){r===t?v["default"].addClass(n,e.config.activeClass):v["default"].removeClass(n,e.config.activeClass)})}function c(e,t){l(e,t)&&(f(e,t)?h(e,t):(0,p.excuteUserEventCallbacks)(e)&&!function(){var n=e.currentIndex,r=(0,p.excuteEventCallbacks)(e,{name:"onBeforeChange",args:[n,t,e.currentSection,e.sections[t]]});if(r){var i=s(e,t);e.currentIndex=t,e.currentSection=e.sections[t],setTimeout(function(){(0,p.excuteEventCallbacks)(e,{name:"onChanged",args:[t,n,e.currentSection,e.sections[n]]})},i)}}())}function l(e,t){return!e.isChanging&&t!=e.currentIndex}function f(e,t){return 0>t||t>=e.sections.length}function h(e,t){var n=e.config.parent,r=(0,p.excuteEventCallbacks)(e,{name:"onOverRange",args:[e.currentIndex,t,e.currentSection]});r&&n&&(0>t?n.prev():n.next())}function d(e,t,n){var r=e.config;if(y){var o,s=r.horizontal?"X":"Y",u=100*-t/e.sections.length+"%",a=y+" "+(r.timingFunction||"")+" "+r.duration+"ms",c=y+" 0ms";v["default"].css(e.el,(o={},i(o,m,n?c:a),i(o,y,"translate"+s+"("+u+")"),o))}else v["default"].css(e.el,r.horizontal?"top":"left",offset)}Object.defineProperty(t,"__esModule",{value:!0}),t.change=t.initSections=void 0;var g=n(1),v=r(g),p=n(2),m=v["default"].getSupportedCSS("transition"),y=v["default"].getSupportedCSS("transform");t.initSections=o,t.change=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){e.config.silent||(0,u.initSections)(e,e.config.initIndex||0),e.config.eventElemSelector!==!1&&(0,a.startListen)(e),s["default"].removeClass(e.el,e.config.initClass)}Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;var o=n(1),s=r(o),u=n(3),a=n(2);t.init=i}])});
//# sourceMappingURL=do-slide.min.js.map